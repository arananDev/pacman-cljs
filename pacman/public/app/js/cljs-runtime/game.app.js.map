{"version":3,"sources":["game/app.cljs"],"mappings":"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","names":["game.app/canvas","js/document","game.app/c","js/window","game.app/boundary-consts","game.app/boundary-fns","p__23216","map__23217","cljs.core/--destructure-map","cljs.core.get","position","p__23218","map__23219","height","width","game.app/player-fns","p__23220","map__23221","velocity","p__23222","map__23223","radius","js/Math","game.app/map-to-boundaries","game-map","iter__5523__auto__","s__23225","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","xs__6360__auto__","cljs.core/first","iterys__5519__auto__","s__23227","cljs.core/chunked-seq?","c__5521__auto__","size__5522__auto__","cljs.core/count","b__23229","cljs.core/chunk-buffer","i__23228","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__23226","cljs.core/chunk-rest","cljs.core/cons","cljs.core/rest","fs__5520__auto__","cljs.core.concat","iter__23224","i","cljs.core.range","j","cljs.core.get_in","cljs.core._EQ_","G__23231","fexpr__23230","G__23233","fexpr__23232","game.app/game-map","game.app/boundaries","cljs.core.mapv","game.app/player","G__23235","fexpr__23234","fexpr__23236","event","game.app/init","cljs.core.println","cljs.core/chunk-first"],"sourcesContent":["(ns game.app)\r\n\r\n(def canvas (.. js/document (querySelector \"canvas\")))\r\n(def c (.. canvas (getContext \"2d\")))\r\n\r\n(set! (.. canvas -width) (.. js/window -innerWidth))\r\n(set! (.. canvas -height) (.. js/window -innerHeight))\r\n\r\n\r\n; Component initialisers \r\n(def boundary-consts {:width 40 :height 40})\r\n\r\n\r\n(def boundary-fns {:create (fn [& {:keys [position]}]\r\n                         {:position position\r\n                          :width (boundary-consts :width)\r\n                          :height (boundary-consts :height)})\r\n               :draw (fn [& {:keys [position height width]}]\r\n                       (set! (.. c -fillStyle) \"blue\")\r\n                       (.. c (fillRect (position :x) (position :y) width height)))})\r\n\r\n(def player-fns {\r\n                 :create (fn [& {:keys [position velocity]}]\r\n                           {\r\n                            :position position\r\n                            :velocity velocity\r\n                            :radius 15\r\n                           })\r\n                 :draw (fn [& {:keys [position radius]}]\r\n                         (.. c (beginPath))\r\n                         (.. c (arc \r\n                                (position :x)\r\n                                (position :y)\r\n                                radius\r\n                                0\r\n                                (* 2 (.. js/Math -PI))))\r\n                         (set! (.. c -fillStyle) \"yellow\")\r\n                         (.. c (fill))\r\n                         (.. c (closePath))\r\n                         )\r\n                 })\r\n\r\n; helper functions \r\n\r\n(defn map-to-boundaries [game-map]\r\n  (for [i (range (count game-map))\r\n        j (range (count (get-in game-map [0])))\r\n        :when (= \"-\" (get-in game-map [i j]))]\r\n    ((boundary-fns :create) {:position {:x (* (boundary-consts :width) j)\r\n                                        :y (* (boundary-consts :height) i)}}))\r\n  )\r\n\r\n\r\n; Starting game componenents \r\n\r\n(def game-map [[\"-\" \"-\" \"-\" \"-\" \"-\" \"-\"]\r\n               [\"-\" \" \" \" \" \" \" \" \" \"-\"]\r\n               [\"-\" \" \" \"-\" \"-\" \" \" \"-\"]\r\n               [\"-\" \" \" \" \" \" \" \" \" \"-\"]\r\n               [\"-\" \"-\" \"-\" \"-\" \"-\" \"-\"]])\r\n\r\n(def boundaries (map-to-boundaries game-map))\r\n(mapv (boundary-fns :draw) boundaries)\r\n\r\n(def player ((player-fns :create)\r\n             {:position {:x (+ (boundary-consts :width) (/ (boundary-consts :width) 2))\r\n                         :y ( + (boundary-consts :height) (/ (boundary-consts :height) 2))}\r\n              :velocity {:x 0 :y 0}}))\r\n\r\n((player-fns :draw) player)\r\n\r\n\r\n\r\n\r\n\r\n; Window event listeners \r\n\r\n(.. js/window (addEventListener \"keydown\"\r\n                                (fn [event] \r\n                                  )))\r\n\r\n\r\n\r\n(defn init []\r\n  (println \"game has started\"))\r\n\r\n\r\n\r\n"]}